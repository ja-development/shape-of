var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.arrayIteratorImpl=function(f){var k=0;return function(){return k<f.length?{done:!1,value:f[k++]}:{done:!0}}};$jscomp.arrayIterator=function(f){return{next:$jscomp.arrayIteratorImpl(f)}};$jscomp.makeIterator=function(f){var k="undefined"!=typeof Symbol&&Symbol.iterator&&f[Symbol.iterator];return k?k.call(f):$jscomp.arrayIterator(f)};$jscomp.arrayFromIterator=function(f){for(var k,m=[];!(k=f.next()).done;)m.push(k.value);return m};
$jscomp.arrayFromIterable=function(f){return f instanceof Array?f:$jscomp.arrayFromIterator($jscomp.makeIterator(f))};var shapeOf;
(function(){shapeOf=function(a){return f(this,a)};var f=function(a,b,c){c=c||{};var d=c.exclude||[],e={};c.baseObject&&(e=c.baseObject,delete c.baseObject);delete c.exclude;-1===d.indexOf("shouldBe")&&(e.shouldBe=n.bind(a,Object.assign({},{obj:b},c)));-1===d.indexOf("shouldBeExactly")&&(e.shouldBeExactly=n.bind(a,Object.assign({},{obj:b,exact:!0},c)));-1===d.indexOf("shouldNotBe")&&(e.shouldNotBe=function(h,g){return!n(h,g)}.bind(a,Object.assign({},{obj:b},c)));-1===d.indexOf("throwsOnInvalid")&&
(e.throwsOnInvalid=k(a,b,c));-1===d.indexOf("onInvalid")&&(e.onInvalid=w.bind(a,a,Object.assign({},{obj:b},c)));-1===d.indexOf("onValid")&&(e.onValid=x.bind(a,a,Object.assign({},{obj:b},c)));-1===d.indexOf("onComplete")&&(e.onComplete=y.bind(a,a,Object.assign({},{obj:b},c)));return e},k=function(a,b,c){c=Object.assign({},{obj:b,exclude:["throwsOnInvalid"],throwOnInvalid:!0},c);c.baseObject=m.bind(a,a,c);return f(a,b,c)},m=function(a,b,c){c&&(b.errorObj=c);return k(a,b.obj,b)},w=function(a,b,c){var d=
b.onInvalid||[];d.push(c);return f(a,b.obj,Object.assign({},{onInvalid:d},b))},x=function(a,b,c){var d=b.onValid||[];d.push(c);return f(a,b.obj,Object.assign({},{onValid:d},b))},y=function(a,b,c){var d=b.onComplete||[];d.push(c);return f(a,b.obj,Object.assign({},{onComplete:d},b))},n=function(a,b){var c=a.obj,d=!1;d="function"===typeof b?"undefined"!==typeof b(c):"object"===typeof b?"undefined"!==typeof z(c,b,a):b===c;a.onInvalid&&!d&&a.onInvalid.forEach(function(e){return e(c,b)});a.onValid&&d&&
a.onValid.forEach(function(e){return e(c,b)});if(a.throwOnInvalid&&!d){if(a.errorObj)throw a.errorObj;throw"Invalid shape detected";}a.onComplete&&a.onComplete.forEach(function(e){return e(c,b)});return d},z=function(a,b,c){if("object"===typeof a){for(var d=c.exact||!1,e=Object.keys(b),h=e.length-1;0<=h;h--){var g=e[h],l=b[g];if("undefined"===typeof a[g])if(l._optional)continue;else return;if(!n(Object.assign({},c,{obj:a[g]}),l))return}if(d)for(a=Object.keys(a),b=a.length-1;0<=b;b--)if(-1===e.indexOf(a[b]))return;
return!0}};shapeOf.string=function(a){if("string"===typeof a)return a};shapeOf.string._validator=!0;shapeOf.array=function(a){if(Array.isArray(a))return a};shapeOf.array._validator=!0;shapeOf.bool=function(a){if("boolean"===typeof a)return a};shapeOf.bool._validator=!0;shapeOf["boolean"]=shapeOf.bool;shapeOf.number=function(a){if("number"===typeof a)return a};shapeOf.number._validator=!0;shapeOf.number.range=function(a,b){var c=A.bind(null,a,b);c._validator=!0;c._optional=this._optional;return c};
shapeOf.number.range._validator=!0;var A=function(a,b,c){var d=Math.min(a,b);a=Math.max(a,b);if("number"===typeof c&&c<=a&&c>=d)return c};shapeOf.number.min=function(a){a=B.bind(null,a);a._validator=!0;a._optional=this._optional;return a};var B=function(a,b){if("number"===typeof b&&b>=a)return b};shapeOf.number.max=function(a){a=C.bind(null,a);a._validator=!0;a._optional=this._optional;return a};var C=function(a,b){if("number"===typeof b&&b<=a)return b};shapeOf.integer=function(a){if(p(a))return a};
shapeOf.integer._validator=!0;shapeOf.integer.range=function(a,b){var c=D.bind(null,a,b);c._validator=!0;c._optional=this._optional;return c};shapeOf.integer.range._validator=!0;var D=function(a,b,c){var d=Math.min(a,b);a=Math.max(a,b);if(p(c)&&c<=a&&c>=d)return c};shapeOf.integer.min=function(a){a=E.bind(null,a);a._validator=!0;a._optional=this._optional;return a};var E=function(a,b){if(p(b)&&b>=a)return b};shapeOf.integer.max=function(a){a=F.bind(null,a);a._validator=!0;a._optional=this._optional;
return a};var F=function(a,b){if(p(b)&&b<=a)return b};shapeOf.object=function(a){if("object"===typeof a&&null!==a)return a};shapeOf.object._validator=!0;shapeOf["null"]=function(a){if(null===a)return a};shapeOf["null"]._validator=!0;shapeOf.primitive=function(a){return shapeOf.string(a)||shapeOf.bool(a)||shapeOf.number(a)||shapeOf["null"](a)};shapeOf.primitive._validator=!0;shapeOf.arrayOf=function(a,b){for(var c=[],d=1;d<arguments.length;++d)c[d-1]=arguments[d];a=q(a,c);return G.bind(null,a)};shapeOf.arrayOf._validator=
!0;var G=function(a,b){Array.isArray(a)||(a=[a]);if(Array.isArray(b)){for(var c=b.length-1;0<=c;c--){for(var d=!1,e=a.length-1;0<=e&&!(d=d||shapeOf(b[c]).shouldBe(a[e]));e--);if(!d)return}return b}};shapeOf.objectOf=function(a,b){for(var c=[],d=1;d<arguments.length;++d)c[d-1]=arguments[d];a=q(a,c);return H.bind(null,a)};shapeOf.objectOf._validator=!0;var H=function(a,b){Array.isArray(a)||(a=[a]);if("object"===typeof b&&null!==b){for(var c=Object.keys(b),d=c.length-1;0<=d;d--){for(var e=!1,h=b[c[d]],
g=a.length-1;0<=g&&!(e=e||shapeOf(h).shouldBe(a[g]));g--);if(!e)return}return b}};shapeOf.oneOf=function(a,b){for(var c=[],d=1;d<arguments.length;++d)c[d-1]=arguments[d];a=q(a,c);return I.bind(null,a)};shapeOf.oneOf._validator=!0;var I=function(a,b){for(var c=a.length-1;0<=c;c--)if(a[c]===b)return b};shapeOf.oneOfType=function(a,b){for(var c=[],d=1;d<arguments.length;++d)c[d-1]=arguments[d];a=q(a,c);return J.bind(null,a)};shapeOf.oneOfType._validator=!0;var J=function(a,b){for(var c=a.length-1;0<=
c;c--)if(shapeOf(b).shouldBe(a[c]))return b};shapeOf.optional=function(a){for(var b=Object.keys(a),c={},d={},e=b.length-1;0<=e;d={$jscomp$loop$prop$baseFunc$7:d.$jscomp$loop$prop$baseFunc$7},e--){var h=b[e];d.$jscomp$loop$prop$baseFunc$7=a[h];if("optional"!==h&&!h.startsWith("_")&&"function"===typeof d.$jscomp$loop$prop$baseFunc$7&&d.$jscomp$loop$prop$baseFunc$7._validator){for(var g=function(K){return function(L){for(var v=[],r=0;r<arguments.length;++r)v[r-0]=arguments[r];return K.$jscomp$loop$prop$baseFunc$7.apply(null,
$jscomp.arrayFromIterable(v))}}(d),l=Object.keys(d.$jscomp$loop$prop$baseFunc$7),u=l.length-1;0<=u;u--){var t=l[u];g[t]=d.$jscomp$loop$prop$baseFunc$7[t];d.$jscomp$loop$prop$baseFunc$7[t]._validator&&(g[t]._optional=!0)}g._optional=!0;c[h]=g}}return c}(shapeOf);var q=function(a,b){if(!Array.isArray(a)&&(a=[a],b))for(var c=0;c<b.length;c++)a.push(b[c]);return a},p=Number.isInteger||function(a){return"number"===typeof a&&a===a&&Infinity!==a&&-Infinity!==a&&Math.floor(a)===a}})();module.exports=shapeOf;