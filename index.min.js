var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.createTemplateTagFirstArg=function(h){return h.raw=h};$jscomp.createTemplateTagFirstArgWithRaw=function(h,m){h.raw=m;return h};$jscomp.arrayIteratorImpl=function(h){var m=0;return function(){return m<h.length?{done:!1,value:h[m++]}:{done:!0}}};$jscomp.arrayIterator=function(h){return{next:$jscomp.arrayIteratorImpl(h)}};$jscomp.makeIterator=function(h){var m="undefined"!=typeof Symbol&&Symbol.iterator&&h[Symbol.iterator];return m?m.call(h):$jscomp.arrayIterator(h)};
$jscomp.arrayFromIterator=function(h){for(var m,n=[];!(m=h.next()).done;)n.push(m.value);return n};$jscomp.arrayFromIterable=function(h){return h instanceof Array?h:$jscomp.arrayFromIterator($jscomp.makeIterator(h))};var shapeOf;
(function(){shapeOf=function(c){return n(this,c)};var h=function(c){if(Array.isArray(c)){for(var b=[],a=0;a<c.length;a++){var d=c[a];if(Array.isArray(d))for(var e=0;e<d.length;e++)b.push(d[e]);else b.push(d)}return b}return c},m=Number.isInteger||function(c){return"number"===typeof c&&c===c&&Infinity!==c&&-Infinity!==c&&Math.floor(c)===c},n=function(c,b,a){a=a||{};var d=a.exclude||[],e={};a.baseObject&&(e=a.baseObject,delete a.baseObject);delete a.exclude;-1===d.indexOf("shouldBe")&&(e.shouldBe=p.bind(c,
Object.assign({},{obj:b},a)));-1===d.indexOf("shouldBeExactly")&&(e.shouldBeExactly=p.bind(c,Object.assign({},{obj:b,exact:!0},a)));-1===d.indexOf("returnsObject")&&(e.returnsObject=C(c,Object.assign({},{obj:b,returnsObject:!0},a)));-1===d.indexOf("shouldNotBe")&&(e.shouldNotBe=function(f,g){return!p(f,g)}.bind(c,Object.assign({},{obj:b},a)));-1===d.indexOf("throwsOnInvalid")&&(e.throwsOnInvalid=v(c,b,a));-1===d.indexOf("onInvalid")&&(e.onInvalid=D.bind(c,c,Object.assign({},{obj:b},a)));-1===d.indexOf("onValid")&&
(e.onValid=E.bind(c,c,Object.assign({},{obj:b},a)));-1===d.indexOf("onComplete")&&(e.onComplete=F.bind(c,c,Object.assign({},{obj:b},a)));return e},v=function(c,b,a){a=Object.assign({},{obj:b,exclude:["throwsOnInvalid"],throwOnInvalid:!0},a);a.returnsObject&&(a.exclude=a.exclude.concat(["returnsObject"]));a.baseObject=G.bind(c,c,a);return n(c,b,a)},G=function(c,b,a){a&&(b.errorObj=a);return v(c,b.obj,b)},C=function(c,b){var a=Object.assign({},{obj:b.obj,returnsObject:!0,exclude:["returnsObject"]},
b);a.throwOnInvalid&&(a.exclude=a.exclude.concat(["throwsOnInvalid"]));return n(c,b.obj,a)},D=function(c,b,a){var d=b.onInvalid||[];d.push(a);return n(c,b.obj,Object.assign({},{onInvalid:d},b))},E=function(c,b,a){var d=b.onValid||[];d.push(a);return n(c,b.obj,Object.assign({},{onValid:d},b))},F=function(c,b,a){var d=b.onComplete||[];d.push(a);return n(c,b.obj,Object.assign({},{onComplete:d},b))},p=function(c,b){var a=c.obj,d=c.returnsObject||!1,e=!1;if("function"===typeof b||b._validator&&"function"===
typeof b._callback&&b._callChain)var f=b._validator?H(b,a):b(a);else if(Array.isArray(b)){e=b.length===a.length;for(var g=0;g<a.length&&e;g++){var l=p(Object.assign({},c,{obj:a[g],returnsObject:!0}),b[g]);e=e&&"undefined"!==typeof l;l!==a[g]&&e&&(a[g]=l)}e&&(f=a)}else"object"===typeof b?f=I(a,b,c):b===a&&(f=a);e="undefined"!==typeof f;c.onInvalid&&!e&&c.onInvalid.forEach(function(k){return k(a,b)});c.onValid&&e&&c.onValid.forEach(function(k){return k(a,b)});if(c.throwOnInvalid&&!e){if(c.errorObj)throw c.errorObj;
throw"Invalid shape detected";}c.onComplete&&c.onComplete.forEach(function(k){return k(a,b)});return d?f:e},I=function(c,b,a){if("object"===typeof c&&null!==c){var d=a.returnsObject||!1,e=a.exact||!1;a=Object.assign({},a,{returnsObject:!0});for(var f=Object.keys(b),g=f.length-1;0<=g;g--){var l=f[g],k=b[l];if("undefined"===typeof c[l])if(k._optional)continue;else return;k=p(Object.assign({},a,{obj:c[l]}),k);if("undefined"===typeof k)return;k!==c[l]&&(c[l]=k)}if(e)for(b=Object.keys(c),a=b.length-1;0<=
a;a--)if(-1===f.indexOf(b[a]))return;return d?c:!0}},r=function(c){for(var b=[],a=0;a<arguments.length;++a)b[a-0]=arguments[a];if(b.length<this._requiredArgsCount)throw"Validator '"+this._name+"' requires at least "+this._requiredArgsCount+" arguments";this._thisCall.args=b;b=Object.keys(this._subValidators);for(a=b.length-1;0<=a;a--){var d=b[a];this[d]=this._subValidators[d]}b=r.bind(this);a=Object.keys(this);for(d=a.length-1;0<=d;d--){var e=a[d];b[e]=this[e]}return b};shapeOf.Validator=function(c,
b,a){a=a||{};c=J(c,b,a);var d=r.bind(c);d=Object.assign(d,c);a.parent&&K(a.parent,d);c._aliases.forEach(function(e){shapeOf.Validator._validators[e]=d});return shapeOf.Validator._validators[c._name]=d};var J=function(c,b,a,d){d=d||{};a=a||{};a=Object.assign({},d,a);d={};d._name=c;d._thisCall={name:c,args:[],_callback:b};d._callChain=[d._thisCall];d._options=a;d._validator=!0;d._optional=a.optional||!1;d._requiredArgsCount=a.requiredArgsCount||Math.max(0,b.length-1);d._callback=b;d._aliases=a.aliases||
[];d._subValidators={};a.serialize&&(d._serialize=a.serialize);a.deserialize&&(d._deserialize=a.deserialize);"string"===typeof d._aliases&&(d._aliases=[d._aliases]);return d},K=function(c,b){if("string"===typeof c&&(c=shapeOf.Validator._validators[c],!c))throw"Unknown validator: "+c;[b._name].concat(b._aliases).forEach(function(a){a=a.replace(c._name,"");a=a.split(".");a=a[a.length-1];for(var d={},e=Object.keys(b),f=e.length-1;0<=f;f--){var g=e[f];d[g]=b[g]}c._optional&&(d._optional=!0);e=[].concat(c._callChain).concat(b._callChain);
d._callChain=e;e=r.bind(d);e=Object.assign(e,d);c[a]=e;c._subValidators[a]=e})},H=function(c,b){for(var a=c._callChain,d=0;d<a.length;d++){var e=a[d];if(e.args.length<e._requiredArgsCount)throw"Missing required arguments for validator: "+e._name;var f=e.args.concat([b]);b=e._callback.apply(e,$jscomp.arrayFromIterable(f));if("undefined"===typeof b)break}return b};shapeOf.Validator._validators={};shapeOf.Validator._serialize=function(c){var b={type:"validator",validatorName:c._name},a=[],d=c._args;
if(d&&0<d.length){for(var e=0;e<d.length;e++)a.push(shapeOf.Validator._serializeArg(d[e]));b.params=a}c._serialize&&(b=Object.assign({},b,c._serialize()));return b};shapeOf.Validator._serializeArg=function(c){var b={type:"primitive"};if(c.serialize&&"function"===typeof c.serialize)b=Object.assign({},b,c.serialize());else if(Array.isArray(c))for(var a=b.value=[],d=0;d<c.length;d++)a.push(shapeOf.Validator._serializeArg(c[d]));else b.value=c;return b};var w=function(c){if("number"===typeof c)return c},
q=function(c,b,a){var d=Math.min(c,b);if(a<=Math.max(c,b)&&a>=d)return a},x=function(c,b){if(b>=c)return b},y=function(c,b){if(b<=c)return b},z=function(c){if("string"===typeof c)return c},t=function(c){for(var b=[],a=0;a<arguments.length;++a)b[a-0]=arguments[a];if(2>b.length||3<b.length)throw"Length validator requires between one and two arguments";a=b[b.length-1];if(2===b.length){if(a.length===b[0])return a}else{var d=Math.max(b[0],b[1]);if(a.length>=Math.min(b[0],b[1])&&a.length<=d)return a}},
A=function(c){if("boolean"===typeof c)return c},B=function(c){if(null===c)return c};q=[{name:"shapeOf.number",callback:w},{name:"shapeOf.number.range",callback:q,options:{parent:"shapeOf.number"}},{name:"shapeOf.number.min",callback:x,options:{parent:"shapeOf.number",aliases:"shapeOf.number.greaterThanOrEqualTo"}},{name:"shapeOf.number.max",callback:y,options:{parent:"shapeOf.number",aliases:"shapeOf.number.lessThanOrEqualTo"}},{name:"shapeOf.integer",callback:function(c){if(m(c))return c}},{name:"shapeOf.integer.range",
callback:q,options:{parent:"shapeOf.integer"}},{name:"shapeOf.integer.min",callback:x,options:{parent:"shapeOf.integer",aliases:"shapeOf.integer.greaterThanOrEqualTo"}},{name:"shapeOf.integer.max",callback:y,options:{parent:"shapeOf.integer",aliases:"shapeOf.integer.lessThanOrEqualTo"}},{name:"shapeOf.string",callback:z},{name:"shapeOf.string.size",callback:t,options:{parent:"shapeOf.string",aliases:"shapeOf.string.ofSize"}},{name:"shapeOf.string.pattern",callback:function(c){for(var b=[],a=0;a<arguments.length;++a)b[a-
0]=arguments[a];a="";if(2>b.length||3<b.length)throw"String pattern validator requires between one and two arguments";var d=b[0];if(2===b.length)var e=b[1];else a=b[1],e=b[2];if("string"===typeof d)d=new RegExp(d,a);else if(d instanceof RegExp)3===b.length&&(d=new RegExp(d,a));else throw"shapeOf.string.pattern() only accepts strings and RegExp objects as an argument";if(d.test(e))return e},options:{parent:"shapeOf.string"}},{name:"shapeOf.array",callback:function(c){if(Array.isArray(c))return c}},
{name:"shapeOf.array.size",callback:t,options:{parent:"shapeOf.array",aliases:"shapeOf.array.ofSize"}},{name:"shapeOf.bool",callback:A,options:{aliases:"shapeOf.boolean"}},{name:"shapeOf.object",callback:function(c){if("object"===typeof c&&null!==c)return c}},{name:"shapeOf.null",callback:B},{name:"shapeOf.primitive",callback:function(c){return z(c)||A(c)||w(c)||B(c)}},{name:"shapeOf.arrayOf",callback:function(c){for(var b=[],a=0;a<arguments.length;++a)b[a-0]=arguments[a];if(2>b.length)throw"arrayOf validator requires at least one argument";
a=b.pop();b=h(b);if(Array.isArray(a)){for(var d=a.length-1;0<=d;d--){var e=!1;for(var f=b.length-1;0<=f;f--){var g=shapeOf(a[d]).returnsObject.shouldBe(b[f]);if(e=e||"undefined"!==typeof g){g!==a[d]&&(a[d]=g);break}}if(!e)break}if(e)return a}}},{name:"shapeOf.arrayOf.size",callback:t,options:{parent:"shapeOf.arrayOf",aliases:"shapeOf.arrayOf.ofSize"}},{name:"shapeOf.objectOf",callback:function(c){for(var b=[],a=0;a<arguments.length;++a)b[a-0]=arguments[a];if(2>b.length)throw"objectOf validator requires at least one argument";
a=b.pop();b=h(b);if("object"===typeof a&&null!==a){for(var d=Object.keys(a),e=d.length-1;0<=e;e--){var f=a[d[e]];var g=!1;for(var l=b.length-1;0<=l;l--){var k=shapeOf(f).returnsObject.shouldBe(b[l]);if(g=g||"undefined"!==typeof k){k!==f&&(a[d[e]]=k);break}}if(!g)break}if(g)return a}}},{name:"shapeOf.oneOf",callback:function(c){for(var b=[],a=0;a<arguments.length;++a)b[a-0]=arguments[a];if(2>b.length)throw"oneOf validator requires at least one argument";a=b.pop();b=h(b);for(var d=b.length-1;0<=d;d--)if(b[d]===
a)return a}},{name:"shapeOf.oneOfType",callback:function(c){for(var b=[],a=0;a<arguments.length;++a)b[a-0]=arguments[a];if(2>b.length)throw"oneOfType validator requires at least one argument";a=b.pop();b=h(b);for(var d=b.length-1;0<=d;d--)if(shapeOf(a).shouldBe(b[d]))return a}}];shapeOf.optional={};q.forEach(function(c){var b=shapeOf.Validator(c.name,c.callback,c.options),a=c.options||{},d=c.name.split("."),e=(a.parent||"").split("."),f=Object.assign({},c.options,{optional:!0}),g=d[0]+".optional."+
d.filter(function(k,u){return 0<u}).join(".");f.parent&&(e=e[0]+".optional."+e.filter(function(k,u){return 0<u}).join("."),f.parent=e);var l=shapeOf.Validator(g,c.callback,f);"shapeOf"===d[0]&&2===d.length&&(shapeOf[d[1]]=b,shapeOf.optional[d[1]]=l);c=a.aliases||"";"string"===typeof c&&(c=[c]);c.forEach(function(k){k=k.split(".");"shapeOf"===k[0]&&2===k.length&&(shapeOf[k[1]]=b,shapeOf.optional[k[1]]=l)})})})();shapeOf.version="0.0.5";shapeOf.compatibleSchemaVersion="0.0.5";module.exports=shapeOf;