var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.createTemplateTagFirstArg=function(l){return l.raw=l};$jscomp.createTemplateTagFirstArgWithRaw=function(l,n){l.raw=n;return l};$jscomp.arrayIteratorImpl=function(l){var n=0;return function(){return n<l.length?{done:!1,value:l[n++]}:{done:!0}}};$jscomp.arrayIterator=function(l){return{next:$jscomp.arrayIteratorImpl(l)}};$jscomp.makeIterator=function(l){var n="undefined"!=typeof Symbol&&Symbol.iterator&&l[Symbol.iterator];return n?n.call(l):$jscomp.arrayIterator(l)};
$jscomp.arrayFromIterator=function(l){for(var n,w=[];!(n=l.next()).done;)w.push(n.value);return w};$jscomp.arrayFromIterable=function(l){return l instanceof Array?l:$jscomp.arrayFromIterator($jscomp.makeIterator(l))};var shapeOf;
(function(){shapeOf=function(a){return r(this,a)};var l=function(a){if(Array.isArray(a)){for(var c=[],b=0;b<a.length;b++){var d=a[b];if(Array.isArray(d))for(var e=0;e<d.length;e++)c.push(d[e]);else c.push(d)}return c}return a},n=Number.isInteger||function(a){return"number"===typeof a&&a===a&&Infinity!==a&&-Infinity!==a&&Math.floor(a)===a},w=function(a,c){a=a.split(".");a.forEach(function(b,d){return a[d]=parseInt(b)});c=c.split(".");c.forEach(function(b,d){return c[d]=parseInt(b)});return a[0]>=c[0]&&
(a[1]>=c[1]||a[0]>c[0])&&(a[2]>=c[2]||a[1]>c[1])},r=function(a,c,b){b=b||{};var d={};b.baseObject&&(d=b.baseObject,delete b.baseObject);delete b.exclude;L(b);var e=b.exclude;-1===e.indexOf("shouldBe")&&(d.shouldBe=t.bind(a,Object.assign({},{obj:c},b)));-1===e.indexOf("shouldBeExactly")&&(d.shouldBeExactly=t.bind(a,Object.assign({},{obj:c,exact:!0},b)));-1===e.indexOf("returnsObject")&&(d.returnsObject=M(a,Object.assign({},{obj:c},b)));-1===e.indexOf("returnsResults")&&(d.returnsResults=N(a,Object.assign({},
{obj:c},b)));-1===e.indexOf("shouldNotBe")&&(d.shouldNotBe=function(f,k){return!t(f,k)}.bind(a,Object.assign({},{obj:c},b)));-1===e.indexOf("throwsOnInvalid")&&(d.throwsOnInvalid=B(a,c,b));-1===e.indexOf("onInvalid")&&(d.onInvalid=O.bind(a,a,Object.assign({},{obj:c},b)));-1===e.indexOf("onValid")&&(d.onValid=P.bind(a,a,Object.assign({},{obj:c},b)));-1===e.indexOf("onComplete")&&(d.onComplete=Q.bind(a,a,Object.assign({},{obj:c},b)));return d},L=function(a,c){for(var b=[],d=1;d<arguments.length;++d)b[d-
1]=arguments[d];a.exclude=a.exclude||[];if(a.returnsObject||a.returnsResults)b=b.concat(["returnsObject"]),b=b.concat(["returnsResults"]);a.throwsOnInvalid&&(b=b.concat(["throwsOnInvalid"]));b.forEach(function(e){-1===a.exclude.indexOf(e)&&a.exclude.push(e)})},B=function(a,c,b){b=Object.assign({},{obj:c,throwsOnInvalid:!0},b);b.baseObject=R.bind(a,a,b);return r(a,c,b)},R=function(a,c,b){b&&(c.errorObj=b);return B(a,c.obj,c)},M=function(a,c){var b=Object.assign({},{obj:c.obj,returnsObject:!0},c);return r(a,
c.obj,b)},N=function(a,c){var b=Object.assign({},{obj:c.obj,returnsResults:!0},c);return r(a,c.obj,b)},O=function(a,c,b){var d=c.onInvalid||[];d.push(b);return r(a,c.obj,Object.assign({},{onInvalid:d},c))},P=function(a,c,b){var d=c.onValid||[];d.push(b);return r(a,c.obj,Object.assign({},{onValid:d},c))},Q=function(a,c,b){var d=c.onComplete||[];d.push(b);return r(a,c.obj,Object.assign({},{onComplete:d},c))},t=function(a,c){var b=a.obj,d=a.returnsObject||!1,e=a.returnsResults||!1,f=!1,k=a.log||[];a=
Object.assign({},{log:k},a);shapeOf._shouldBeOptionsChain||(shapeOf._shouldBeOptionsChain=[]);shapeOf._lastShouldBeOptions=a;shapeOf._shouldBeOptionsChain.push(a);if(shapeOf.isValidator(c)){var g=S(c,b);"undefined"===typeof g?m(a,"Failed: Validator '"+c._name+"'",b):b!==g&&m(a,"Mutation: Validator '"+c._name+"'",b,g)}else if("function"===typeof c)g=c(b),"undefined"===typeof g?m(a,"Failed: Validation using functional validator '"+c.name+"'",b):b!==g&&m(a,"Mutation: Functional validator '"+c.name+"'",
b,g);else if(Array.isArray(c)){f=c.length===b.length;for(var h=0;h<b.length&&f;h++){var p=t(Object.assign({},a,{obj:b[h],returnsObject:!0}),c[h]);(f=f&&"undefined"!==typeof p)||m(a,"Failed: Array element at index "+h,b[h]);p!==b[h]&&f&&(m(a,"Mutation: Array element at index "+h,b[h],p),b[h]=p)}f?g=b:m(a,"Failed: Array",b)}else"object"===typeof c?(g=T(b,c,a),"undefined"===typeof g&&m(a,"Failed: Object",b)):c===b?g=b:m(a,"Failed: Strict equality",b,g);f="undefined"!==typeof g;a.onInvalid&&!f&&a.onInvalid.forEach(function(u){return u(b,
c)});a.onValid&&f&&a.onValid.forEach(function(u){return u(b,c)});if(a.throwsOnInvalid&&!f){if(a.errorObj)throw a.errorObj;throw"Invalid shape detected";}a.onComplete&&a.onComplete.forEach(function(u){return u(b,c)});shapeOf._lastShouldBeOptions=shapeOf._shouldBeOptionsChain.pop();return d?g:e?{success:f,log:k,obj:b}:f},T=function(a,c,b){if("object"===typeof a&&null!==a){var d=b.returnsObject||!1,e=b.exact||!1;b=Object.assign({},b,{returnsObject:!0});for(var f=Object.keys(c),k=f.length-1;0<=k;k--){var g=
f[k],h=c[g];if("undefined"===typeof a[g])if(h._optional)continue;else{m(b,"Failed: Object with missing key '"+g+"'");return}var p=a[g];h=t(Object.assign({},b,{obj:p}),h);if("undefined"===typeof h){m(b,"Failed: Object at key '"+g+"'",p);return}h!==a[g]&&(m(b,"Mutation: Object field '"+g+"'",a[g],h),a[g]=h)}if(e)for(c=Object.keys(a),e=c.length-1;0<=e;e--)if(-1===f.indexOf(c[e])){m(b,"Failed: Object with extraneous key '"+c[e]+"'");return}return d?a:!0}},m=function(a,c,b){for(var d=[],e=2;e<arguments.length;++e)d[e-
2]=arguments[e];a?"string"===typeof a&&("undefined"!==typeof c&&d.push(c),c=a,a=shapeOf._lastShouldBeOptions):a=shapeOf._lastShouldBeOptions;if(a.returnsResults){e=a.log;var f={message:c};0<d.length&&(1===d.length&&(d=d[0]),f.obj=d);e.push(f)}},x=function(a){for(var c=[],b=0;b<arguments.length;++b)c[b-0]=arguments[b];if(c.length<this._requiredArgsCount)throw"Validator '"+this._name+"' requires at least "+this._requiredArgsCount+" arguments";b=Object.assign({},this);b._callChain=[].concat(this._callChain);
b._callChain.pop();b._thisCall=C(this._thisCall);b._thisCall.args=[].concat(c);b._callChain.push(b._thisCall);c=Object.keys(b._subValidators);for(var d=c.length-1;0<=d;d--){var e=c[d],f=b._subValidators[e],k=D(f._name,f._callback,Object.assign({},f._options,{_callChain:b._callChain}));f=x.bind(k);k=Object.keys(k);for(var g=k.length-1;0<=g;g--){var h=k[g];f[h]=b[h]}b[e]=f}c=x.bind(b);d=Object.keys(b);for(e=d.length-1;0<=e;e--)f=d[e],c[f]=b[f];return c};shapeOf.Validator=function(a,c,b){b=b||{};a=D(a,
c,b);var d=x.bind(a);d=Object.assign(d,a);b.parent&&U(b.parent,d);a._aliases.forEach(function(e){shapeOf.Validator._validators[e]=d});return shapeOf.Validator._validators[a._name]=d};shapeOf.Validator._validators={};var E={validator:"token"};shapeOf.isValidator=function(a){return!!(a&&a._validatorToken&&a._validatorToken===E&&a._callback&&"function"===typeof a._callback&&a._callChain&&a._thisCall)};var C=function(a,c,b){return"object"===typeof a?{name:a.name,args:[].concat(a.args),_callback:a._callback}:
{name:a,args:c,_callback:b}},D=function(a,c,b,d){d=d||{};b=b||{};b=Object.assign({},d,b);d={};var e=[].concat(b._callChain||[]),f=C(a,[],c);e.push(f);d._name=a;d._thisCall=f;d._callChain=e;d._options=b;d._optional=b.optional||!1;d._requiredArgsCount=b.requiredArgsCount||Math.max(0,c.length-1);d._callback=c;d._aliases=b.aliases||[];d._subValidators={};d._validatorToken=E;b.serialize&&(d._serialize=b.serialize);b.deserialize&&(d._deserialize=b.deserialize);"string"===typeof d._aliases&&(d._aliases=
[d._aliases]);return d},U=function(a,c){if("string"===typeof a&&(a=shapeOf.Validator._validators[a],!a))throw"Unknown validator: "+a;[c._name].concat(c._aliases).forEach(function(b){b=b.replace(a._name,"");b=b.split(".");b=b[b.length-1];for(var d={},e=Object.keys(c),f=e.length-1;0<=f;f--){var k=e[f];d[k]=c[k]}a._optional&&(d._optional=!0);e=[].concat(a._callChain).concat(c._callChain);d._callChain=e;e=x.bind(d);e=Object.assign(e,d);a[b]=e;a._subValidators[b]=e})},S=function(a,c){for(var b=a._callChain,
d=0;d<b.length;d++){var e=b[d];if(e.args.length<e._requiredArgsCount)throw"Missing required arguments for validator: "+e._name;var f=e.args.concat([c]);c=e._callback.apply(e,$jscomp.arrayFromIterable(f));if("undefined"===typeof c)break}return c};shapeOf.serialize=function(a,c){var b={_shapeOfVersion:shapeOf.version,_shapeOfSchemaVersion:shapeOf.compatibleSchemaVersion,schema:y(a)};c=c||{};return c.returnsObject?b:JSON.stringify(b)};shapeOf.deserialize=function(a){if("string"===typeof a)try{a=JSON.parse(a)}catch(c){throw"Error while deserializing schema:\n"+
c.toString();}if(!a._shapeOfVersion||!a._shapeOfSchemaVersion||!a.schema)throw"Object doesn't appear to be a valid shapeOf schema.";if(!w(shapeOf.compatibleSchemaVersion,a._shapeOfSchemaVersion))throw"Incompatible schema versions, current version == "+shapeOf.compatibleSchemaVersion+", schema version == "+a._shapeOfSchemaVersion;return v(a.schema)};var V=function(a){if(!a.type||"validator"!==a.type)throw"Object isn't a validator type: "+a.toString();if(!a.callChain||!Array.isArray(a.callChain)||!a.name||
"string"!==typeof a.name)throw"Malformed validator: "+a.toString();var c;a.callChain.forEach(function(b){if(!b.name||"string"!==typeof b.name||!b.args||!Array.isArray(b.args))throw"Malformed validator: "+a.toString();var d=shapeOf.Validator._validators[b.name];if("undefined"===typeof d)throw"Validator not found: "+b.name;var e=b.name.split(".").pop();if(c&&!c[e])throw"Cannot find sub-validator "+b.name;if(0<b.args.length){var f=[];b.args.forEach(function(k){return f.push(v(k))});c=c?c[e].apply(c,
$jscomp.arrayFromIterable(f)):d.apply(null,$jscomp.arrayFromIterable(f))}else c=c?c[e]:d});return c},v=function(a,c){if(!a.type||"string"!==typeof a.type)throw"Object isn't a valid type: "+a.toString();if("undefined"===typeof a.value&&"validator"!==a.type)throw"Object missing value: "+a.toString();if("object"===a.type){if(!Array.isArray(a.value))throw"Type 'object' value must be an array";var b={};a.value.forEach(function(d){v(d,b)})}else if("field"===a.type){if(!a.name||"string"!==typeof a.name)throw"Illegal/missing field name for object "+
c.toString();if(!c)throw"No parent present for 'field' type";c[a.name]=v(a.value)}else if("array"===a.type){if(!Array.isArray(a.value))throw"Type 'array' value must be array";b=[];a.value.forEach(function(d){b.push(v(d))})}else if("primitive"===a.type)b=a.value;else if("validator"===a.type)b=V(a);else if("regexp"===a.type){if("string"!==typeof a.value||"string"!==typeof a.flags)throw"RegExp object missing required field";b=new RegExp(a.value,a.flags)}else throw"Unknown object type: "+a.type;return b},
y=function(a){var c={type:"primitive"};if(a.toJSON)c=a;else if(shapeOf.isValidator(a)){c={type:"validator",name:a._name};a._optional&&(c.optional=!0);var b=c.callChain=[],d=a._callChain;if(d&&0<d.length)for(var e=0;e<d.length;e++){var f=d[e],k=f.args,g=[];f={name:f.name,args:g};for(var h=0;h<k.length;h++)g.push(y(k[h]));b.push(f)}a._serialize&&(c=Object.assign({},c,a._serialize()))}else if(a.serialize&&"function"===typeof a.serialize)c=Object.assign({},c,a.serialize());else if(Array.isArray(a))for(c.type=
"array",b=c.value=[],d=0;d<a.length;d++)b.push(y(a[d]));else if(a instanceof RegExp)a=a.toString().split("/"),b=a.pop(),a.shift(),a=a.join("/"),c.type="regexp",c.value=a,c.flags=b;else if("object"===typeof a&&null!==a)for(c.type="object",b=Object.keys(a),d=c.value=[],e=0;e<b.length;e++)k=b[e],d.push({type:"field",name:k,value:y(a[k])});else c.value=a;return c},F=function(a){if("number"===typeof a)return a},z=function(a,c,b){var d=Math.min(a,c);if(b<=Math.max(a,c)&&b>=d)return b},G=function(a,c){if(c>=
a)return c},H=function(a,c){if(c<=a)return c},I=function(a){if("string"===typeof a)return a},W=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[((25[0-5]|(2[0-4]|1[0-9]|[1-9]|)[0-9])\.){3}(25[0-5]|(2[0-4]|1[0-9]|[1-9]|)[0-9])\])|(([a-zA-Z0-9][a-zA-Z\-0-9]+\.)+(?![wW][eE][bB])[a-zA-Z]{2,}))$/,X=/^((25[0-5]|(2[0-4]|1[0-9]|[1-9]|)[0-9])(\.(?!$)|$)){4}$/,q="^\\s*(({{O0}}{7}([0-9A-Fa-f]{1,4}|:))|({{O0}}{6}(:[0-9A-Fa-f]{1,4}|({{O2}}(\\.{{O2}}){3})|:))|({{O0}}{5}(({{O1}}{1,2})|:({{O2}}(\\.{{O2}}){3})|:))|({{O0}}{4}(({{O1}}{1,3})|({{O1}}?:({{O2}}(\\.{{O2}}){3}))|:))|({{O0}}{3}(({{O1}}{1,4})|({{O1}}{0,2}:({{O2}}(\\.{{O2}}){3}))|:))|({{O0}}{2}(({{O1}}{1,5})|({{O1}}{0,3}:({{O2}}(\\.{{O2}}){3}))|:))|({{O0}}{1}(({{O1}}{1,6})|({{O1}}{0,4}:({{O2}}(\\.{{O2}}){3}))|:))|(:(({{O1}}{1,7})|({{O1}}{0,5}:({{O2}}(\\.{{O2}}){3}))|:)))(%.+)?\\s*$";
q=q.replace(/\{\{O0\}\}/g,"([0-9A-Fa-f]{1,4}:)");q=q.replace(/\{\{O1\}\}/g,"(:[0-9A-Fa-f]{1,4})");q=q.replace(/\{\{O2\}\}/g,"(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)");q=new RegExp(q);var A=function(a){for(var c=[],b=0;b<arguments.length;++b)c[b-0]=arguments[b];if(2>c.length||3<c.length)throw"Length validator requires between one and two arguments";b=c[c.length-1];if(2===c.length){if(b.length===c[0])return b}else{var d=Math.max(c[0],c[1]);if(b.length>=Math.min(c[0],c[1])&&b.length<=d)return b}},J=function(a){if("boolean"===
typeof a)return a},K=function(a){if(null===a)return a};z=[{name:"shapeOf.number",callback:F},{name:"shapeOf.number.range",callback:z,options:{parent:"shapeOf.number",requiredArgsCount:2}},{name:"shapeOf.number.min",callback:G,options:{parent:"shapeOf.number",aliases:"shapeOf.number.greaterThanOrEqualTo",requiredArgsCount:1}},{name:"shapeOf.number.max",callback:H,options:{parent:"shapeOf.number",aliases:"shapeOf.number.lessThanOrEqualTo",requiredArgsCount:1}},{name:"shapeOf.integer",callback:function(a){if(n(a))return a}},
{name:"shapeOf.integer.range",callback:z,options:{parent:"shapeOf.integer",requiredArgsCount:2}},{name:"shapeOf.integer.min",callback:G,options:{parent:"shapeOf.integer",aliases:"shapeOf.integer.greaterThanOrEqualTo",requiredArgsCount:1}},{name:"shapeOf.integer.max",callback:H,options:{parent:"shapeOf.integer",aliases:"shapeOf.integer.lessThanOrEqualTo",requiredArgsCount:1}},{name:"shapeOf.string",callback:I},{name:"shapeOf.string.size",callback:A,options:{parent:"shapeOf.string",aliases:"shapeOf.string.ofSize",
requiredArgsCount:1}},{name:"shapeOf.string.pattern",callback:function(a){for(var c=[],b=0;b<arguments.length;++b)c[b-0]=arguments[b];b="";if(2>c.length||3<c.length)throw"String pattern validator requires between one and two arguments";var d=c[0];if(2===c.length)var e=c[1];else b=c[1],e=c[2];if("string"===typeof d)d=new RegExp(d,b);else if(d instanceof RegExp)3===c.length&&(d=new RegExp(d,b));else throw"shapeOf.string.pattern() only accepts strings and RegExp objects as an argument";if(d.test(e))return e},
options:{parent:"shapeOf.string",aliases:"shapeOf.string.matching",requiredArgsCount:1}},{name:"shapeOf.string.email",callback:function(a){if(W.test(a))return a},options:{parent:"shapeOf.string",aliases:"shapeOf.string.asEmail"}},{name:"shapeOf.string.IPv4",callback:function(a){if(X.test(a))return a},options:{parent:"shapeOf.string",aliases:["shapeOf.string.asIPV4","shapeOf.string.ipv4"]}},{name:"shapeOf.string.IPv6",callback:function(a){if(q.test(a))return a},options:{parent:"shapeOf.string",aliases:["shapeOf.string.asIPV6",
"shapeOf.string.ipv6"]}},{name:"shapeOf.array",callback:function(a){if(Array.isArray(a))return a}},{name:"shapeOf.array.size",callback:A,options:{parent:"shapeOf.array",aliases:"shapeOf.array.ofSize",requiredArgsCount:1}},{name:"shapeOf.bool",callback:J,options:{aliases:"shapeOf.boolean"}},{name:"shapeOf.object",callback:function(a){if("object"===typeof a&&null!==a)return a}},{name:"shapeOf.null",callback:K},{name:"shapeOf.primitive",callback:function(a){return I(a)||J(a)||F(a)||K(a)}},{name:"shapeOf.arrayOf",
callback:function(a){for(var c=[],b=0;b<arguments.length;++b)c[b-0]=arguments[b];if(2>c.length)throw"arrayOf validator requires at least one argument";b=c.pop();c=l(c);if(Array.isArray(b)){for(var d=b.length-1;0<=d;d--){var e=!1;for(var f=c.length-1;0<=f;f--){var k=shapeOf(b[d]).returnsObject.shouldBe(c[f]);if(e=e||"undefined"!==typeof k){k!==b[d]&&(b[d]=k);break}}if(!e)break}if(e)return b}}},{name:"shapeOf.arrayOf.size",callback:A,options:{parent:"shapeOf.arrayOf",aliases:"shapeOf.arrayOf.ofSize",
requiredArgsCount:1}},{name:"shapeOf.objectOf",callback:function(a){for(var c=[],b=0;b<arguments.length;++b)c[b-0]=arguments[b];if(2>c.length)throw"objectOf validator requires at least one argument";b=c.pop();c=l(c);if("object"===typeof b&&null!==b){for(var d=Object.keys(b),e=d.length-1;0<=e;e--){var f=b[d[e]];var k=!1;for(var g=c.length-1;0<=g;g--){var h=shapeOf(f).returnsObject.shouldBe(c[g]);if(k=k||"undefined"!==typeof h){h!==f&&(b[d[e]]=h);break}}if(!k)break}if(k)return b}}},{name:"shapeOf.oneOf",
callback:function(a){for(var c=[],b=0;b<arguments.length;++b)c[b-0]=arguments[b];if(2>c.length)throw"oneOf validator requires at least one argument";b=c.pop();c=l(c);for(var d=c.length-1;0<=d;d--)if(c[d]===b)return b},options:{requiredArgsCount:1}},{name:"shapeOf.oneOfType",callback:function(a){for(var c=[],b=0;b<arguments.length;++b)c[b-0]=arguments[b];if(2>c.length)throw"oneOfType validator requires at least one argument";b=c.pop();c=l(c);for(var d=0;d<c.length;d++)if(shapeOf(b).shouldBeExactly(c[d]))return b},
options:{requiredArgsCount:1}},{name:"shapeOf.eachOf",callback:function(a){for(var c=[],b=0;b<arguments.length;++b)c[b-0]=arguments[b];if(2>c.length)throw"eachOfType validator requires at least one argument";b=c.pop();c=l(c);for(var d=0;d<c.length;d++)if(!shapeOf(b).shouldBeExactly(c[d])){shapeOf.isValidator(c[d])?m("Failed: Validator 'shapeOf.eachOf' -> '"+c[d]._name+"'",b):m("Failed: Validator 'shapeOf.eachOf' -> index "+d,b);return}m('Passed: Validator "shapeOf.eachOf"',b);return b},options:{requiredArgsCount:1}}];
shapeOf.optional={};z.forEach(function(a){var c=shapeOf.Validator(a.name,a.callback,a.options),b=a.options||{},d=a.name.split("."),e=(b.parent||"").split("."),f=Object.assign({},a.options,{optional:!0}),k=d[0]+".optional."+d.filter(function(h,p){return 0<p}).join(".");f.parent&&(e=e[0]+".optional."+e.filter(function(h,p){return 0<p}).join("."),f.parent=e);var g=shapeOf.Validator(k,a.callback,f);"shapeOf"===d[0]&&2===d.length&&(shapeOf[d[1]]=c,shapeOf.optional[d[1]]=g);a=b.aliases||"";"string"===typeof a&&
(a=[a]);a.forEach(function(h){h=h.split(".");"shapeOf"===h[0]&&2===h.length&&(shapeOf[h[1]]=c,shapeOf.optional[h[1]]=g)})})})();shapeOf._versionCompatibilityHistory={"0.0.6":"0.0.6","0.0.5":"0.0.5"};shapeOf.version="0.0.6";shapeOf.compatibleSchemaVersion="0.0.6";module.exports=shapeOf;