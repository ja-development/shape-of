var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.arrayIteratorImpl=function(f){var g=0;return function(){return g<f.length?{done:!1,value:f[g++]}:{done:!0}}};$jscomp.arrayIterator=function(f){return{next:$jscomp.arrayIteratorImpl(f)}};$jscomp.makeIterator=function(f){var g="undefined"!=typeof Symbol&&Symbol.iterator&&f[Symbol.iterator];return g?g.call(f):$jscomp.arrayIterator(f)};$jscomp.arrayFromIterator=function(f){for(var g,l=[];!(g=f.next()).done;)l.push(g.value);return l};
$jscomp.arrayFromIterable=function(f){return f instanceof Array?f:$jscomp.arrayFromIterator($jscomp.makeIterator(f))};var shapeOf;
(function(){var f=this;shapeOf=function(a){return g(this,a)};var g=function(a,c,b){b=b||{};var d=b.exclude||[],e={};b.baseObject&&(e=b.baseObject,delete b.baseObject);delete b.exclude;-1===d.indexOf("shouldBe")&&(e.shouldBe=n.bind(a,Object.assign({},{obj:c},b)));-1===d.indexOf("shouldBeExactly")&&(e.shouldBeExactly=n.bind(a,Object.assign({},{obj:c,exact:!0},b)));-1===d.indexOf("shouldNotBe")&&(e.shouldNotBe=function(k,h){return!n(k,h)}.bind(a,Object.assign({},{obj:c},b)));-1===d.indexOf("throwsOnInvalid")&&
(e.throwsOnInvalid=l(a,c,b));-1===d.indexOf("onInvalid")&&(e.onInvalid=x.bind(a,a,Object.assign({},{obj:c},b)));-1===d.indexOf("onValid")&&(e.onValid=y.bind(a,a,Object.assign({},{obj:c},b)));-1===d.indexOf("onComplete")&&(e.onComplete=z.bind(a,a,Object.assign({},{obj:c},b)));return e},l=function(a,c,b){b=Object.assign({},{obj:c,exclude:["throwsOnInvalid"],throwOnInvalid:!0},b);b.baseObject=A.bind(a,a,b);return g(a,c,b)},A=function(a,c,b){b&&(c.errorObj=b);return l(a,c.obj,c)},x=function(a,c,b){var d=
c.onInvalid||[];d.push(b);return g(a,c.obj,Object.assign({},{onInvalid:d},c))},y=function(a,c,b){var d=c.onValid||[];d.push(b);return g(a,c.obj,Object.assign({},{onValid:d},c))},z=function(a,c,b){var d=c.onComplete||[];d.push(b);return g(a,c.obj,Object.assign({},{onComplete:d},c))},n=function(a,c){var b=a.obj,d=!1;d="function"===typeof c?"undefined"!==typeof c(b):"object"===typeof c?"undefined"!==typeof B(b,c,a):c===b;a.onInvalid&&!d&&a.onInvalid.forEach(function(e){return e(b,c)});a.onValid&&d&&
a.onValid.forEach(function(e){return e(b,c)});if(a.throwOnInvalid&&!d){if(a.errorObj)throw a.errorObj;throw"Invalid shape detected";}a.onComplete&&a.onComplete.forEach(function(e){return e(b,c)});return d},B=function(a,c,b){if("object"===typeof a){for(var d=b.exact||!1,e=Object.keys(c),k=e.length-1;0<=k;k--){var h=e[k],m=c[h];if("undefined"===typeof a[h])if(m._optional)continue;else return;if(!n(Object.assign({},b,{obj:a[h]}),m))return}if(d)for(a=Object.keys(a),c=a.length-1;0<=c;c--)if(-1===e.indexOf(a[c]))return;
return!0}};shapeOf.number=function(a){if("number"===typeof a)return a};shapeOf.number._validator=!0;shapeOf.number.range=function(a,c){var b=C.bind(null,a,c);b._validator=!0;b._optional=this._optional;return b};shapeOf.number.range._validator=!0;var C=function(a,c,b){var d=Math.min(a,c);a=Math.max(a,c);if("number"===typeof b&&b<=a&&b>=d)return b};shapeOf.number.min=function(a){a=D.bind(null,a);a._validator=!0;a._optional=this._optional;return a};shapeOf.number.greaterThanOrEqualTo=shapeOf.number.min;
var D=function(a,c){if("number"===typeof c&&c>=a)return c};shapeOf.number.max=function(a){a=E.bind(null,a);a._validator=!0;a._optional=this._optional;return a};shapeOf.number.lessThanOrEqualTo=shapeOf.number.max;var E=function(a,c){if("number"===typeof c&&c<=a)return c};shapeOf.integer=function(a){if(p(a))return a};shapeOf.integer._validator=!0;shapeOf.integer.range=function(a,c){var b=F.bind(null,a,c);b._validator=!0;b._optional=this._optional;return b};shapeOf.integer.range._validator=!0;var F=
function(a,c,b){var d=Math.min(a,c);a=Math.max(a,c);if(p(b)&&b<=a&&b>=d)return b};shapeOf.integer.min=function(a){a=G.bind(null,a);a._validator=!0;a._optional=this._optional;return a};shapeOf.integer.greaterThanOrEqualTo=shapeOf.integer.min;var G=function(a,c){if(p(c)&&c>=a)return c};shapeOf.integer.max=function(a){a=H.bind(null,a);a._validator=!0;a._optional=this._optional;return a};shapeOf.integer.lessThanOrEqualTo=shapeOf.integer.max;var H=function(a,c){if(p(c)&&c<=a)return c};shapeOf.string=function(a){if("string"===
typeof a)return a};shapeOf.string._validator=!0;shapeOf.string.size=function(a,c){if("undefined"===typeof c){var b=I.bind(null,a);b._validator=!0;b._optional=this._optional;return b}b=J.bind(null,Math.min(a,c),Math.max(a,c));b._validator=!0;b._optional=this._optional;return b};shapeOf.string.ofSize=shapeOf.string.size;var I=function(a,c){if("string"===typeof c&&c.length===a)return c},J=function(a,c,b){if("string"===typeof b&&b.length>=a&&b.length<=c)return b};shapeOf.string.pattern=function(a,c){if("string"!==
typeof a&&!(a instanceof RegExp))throw"shapeOf.string.pattern() only accepts strings and RegExp objects as an argument";a=new RegExp(a,c);if(a instanceof RegExp){var b=K.bind(null,a);b._validator=!0;b._optional=this._optional;return b}};var K=function(a,c){if("string"===typeof c&&a.test(c))return c};shapeOf.array=function(a){if(Array.isArray(a))return a};shapeOf.array._validator=!0;shapeOf.array.size=function(a,c){if("undefined"===typeof c){var b=L.bind(null,a);b._validator=!0;b._optional=this._optional;
return b}b=M.bind(null,Math.min(a,c),Math.max(a,c));b._validator=!0;b._optional=this._optional;return b};shapeOf.array.ofSize=shapeOf.array.size;var L=function(a,c){if(Array.isArray(c)&&c.length===a)return c},M=function(a,c,b){if(Array.isArray(b)&&b.length>=a&&b.length<=c)return b};shapeOf.bool=function(a){if("boolean"===typeof a)return a};shapeOf.bool._validator=!0;shapeOf["boolean"]=shapeOf.bool;shapeOf.object=function(a){if("object"===typeof a&&null!==a)return a};shapeOf.object._validator=!0;shapeOf["null"]=
function(a){if(null===a)return a};shapeOf["null"]._validator=!0;shapeOf.primitive=function(a){return shapeOf.string(a)||shapeOf.bool(a)||shapeOf.number(a)||shapeOf["null"](a)};shapeOf.primitive._validator=!0;shapeOf.arrayOf=function(a,c){for(var b=[],d=1;d<arguments.length;++d)b[d-1]=arguments[d];a=q(a,b);b=N.bind(null,a);b.size=O.bind(null,a);b.size._validator=!0;b.size._optional=f._optional;b.ofSize=b.size;return b};shapeOf.arrayOf._validator=!0;var N=function(a,c){Array.isArray(a)||(a=[a]);if(u(a,
c))return c},u=function(a,c){if(!Array.isArray(c))return!1;for(var b=c.length-1;0<=b;b--){for(var d=!1,e=a.length-1;0<=e&&!(d=d||shapeOf(c[b]).shouldBe(a[e]));e--);if(!d)return!1}return!0},O=function(a,c,b){if("undefined"===typeof b)return a=P.bind(null,a,c),a._validator=!0,a._optional=this._optional,a;a=Q.bind(null,a,Math.min(c,b),Math.max(c,b));a._validator=!0;a._optional=this._optional;return a},P=function(a,c,b){if(u(a,b)&&b.length===c)return b},Q=function(a,c,b,d){if(u(a,d)&&d.length>=c&&d.length<=
b)return d};shapeOf.objectOf=function(a,c){for(var b=[],d=1;d<arguments.length;++d)b[d-1]=arguments[d];a=q(a,b);return R.bind(null,a)};shapeOf.objectOf._validator=!0;var R=function(a,c){Array.isArray(a)||(a=[a]);if("object"===typeof c&&null!==c){for(var b=Object.keys(c),d=b.length-1;0<=d;d--){for(var e=!1,k=c[b[d]],h=a.length-1;0<=h&&!(e=e||shapeOf(k).shouldBe(a[h]));h--);if(!e)return}return c}};shapeOf.oneOf=function(a,c){for(var b=[],d=1;d<arguments.length;++d)b[d-1]=arguments[d];a=q(a,b);return S.bind(null,
a)};shapeOf.oneOf._validator=!0;var S=function(a,c){for(var b=a.length-1;0<=b;b--)if(a[b]===c)return c};shapeOf.oneOfType=function(a,c){for(var b=[],d=1;d<arguments.length;++d)b[d-1]=arguments[d];a=q(a,b);return T.bind(null,a)};shapeOf.oneOfType._validator=!0;var T=function(a,c){for(var b=a.length-1;0<=b;b--)if(shapeOf(c).shouldBe(a[b]))return c};shapeOf.optional=function(a){for(var c=Object.keys(a),b={},d={},e=c.length-1;0<=e;d={$jscomp$loop$prop$baseFunc$10:d.$jscomp$loop$prop$baseFunc$10},e--){var k=
c[e];d.$jscomp$loop$prop$baseFunc$10=a[k];if("optional"!==k&&!k.startsWith("_")&&"function"===typeof d.$jscomp$loop$prop$baseFunc$10&&d.$jscomp$loop$prop$baseFunc$10._validator){for(var h=function(U){return function(V){for(var w=[],r=0;r<arguments.length;++r)w[r-0]=arguments[r];return U.$jscomp$loop$prop$baseFunc$10.apply(null,$jscomp.arrayFromIterable(w))}}(d),m=Object.keys(d.$jscomp$loop$prop$baseFunc$10),v=m.length-1;0<=v;v--){var t=m[v];h[t]=d.$jscomp$loop$prop$baseFunc$10[t];d.$jscomp$loop$prop$baseFunc$10[t]._validator&&
(h[t]._optional=!0)}h._optional=!0;b[k]=h}}return b}(shapeOf);var q=function(a,c){if(!Array.isArray(a)&&(a=[a],c))for(var b=0;b<c.length;b++)a.push(c[b]);return a},p=Number.isInteger||function(a){return"number"===typeof a&&a===a&&Infinity!==a&&-Infinity!==a&&Math.floor(a)===a}})();module.exports=shapeOf;